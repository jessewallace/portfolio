!function(e){e.fn.textfill=function(i){function t(){h.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.debug&&console.debug.apply(console,arguments)}function n(){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn.apply(console,arguments)}function l(e,i,n,l,s,h){function o(e,i){var t=" / ";return e>i?t=" > ":e==i&&(t=" = "),t}t("[TextFill] "+e+" { font-size: "+i.css("font-size")+",Height: "+i.height()+"px "+o(i.height(),n)+n+"px,Width: "+i.width()+o(i.width(),l)+l+",minFontPixels: "+s+"px, maxFontPixels: "+h+"px }")}function s(e,i,t,n,s,h,o,c){for(l(e,i,s,h,o,c);c-1>o;){var a=Math.floor((o+c)/2);if(i.css("font-size",a),t.call(i)<=n){if(o=a,t.call(i)==n)break}else c=a;l(e,i,s,h,o,c)}return i.css("font-size",c),t.call(i)<=n&&(o=c,l(e+"* ",i,s,h,o,c)),o}var h=e.extend({debug:!1,maxFontPixels:40,minFontPixels:4,innerTag:"span",widthOnly:!1,success:null,callback:null,fail:null,complete:null,explicitWidth:null,explicitHeight:null,changeLineHeight:!1},i);return t("[TextFill] Start Debug"),this.each(function(){var i=e(h.innerTag+":visible:first",this),l=h.explicitHeight||e(this).height(),o=h.explicitWidth||e(this).width(),c=i.css("font-size"),a=parseFloat(i.css("line-height"))/parseFloat(c);t("[TextFill] Inner text: "+i.text()),t("[TextFill] All options: ",h),t("[TextFill] Maximum sizes: { Height: "+l+"px, Width: "+o+"px }");var u=h.minFontPixels,d=0>=h.maxFontPixels?l:h.maxFontPixels,f=void 0;h.widthOnly||(f=s("Height",i,e.fn.height,l,l,o,u,d));var x=void 0,x=s("Width",i,e.fn.width,o,l,o,u,d);h.widthOnly?(i.css({"font-size":x,"white-space":"nowrap"}),h.changeLineHeight&&i.parent().css("line-height",a*x+"px")):(u=Math.min(f,x),i.css("font-size",u),h.changeLineHeight&&i.parent().css("line-height",a*u+"px")),t("[TextFill] Finished { Old font-size: "+c+", New font-size: "+i.css("font-size")+" }"),i.width()>o||i.height()>l&&!h.widthOnly?(i.css("font-size",c),h.fail&&h.fail(this),t("[TextFill] Failure { Current Width: "+i.width()+", Maximum Width: "+o+", Current Height: "+i.height()+", Maximum Height: "+l+" }")):h.success?h.success(this):h.callback&&(n("callback is deprecated, use success, instead"),h.callback(this))}),h.complete&&h.complete(this),t("[TextFill] End Debug"),this}}(window.jQuery);