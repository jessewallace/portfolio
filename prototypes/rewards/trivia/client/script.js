$(document).ready(function(){function t(){r.val().length>0?$submitBtn.removeClass("td-is-disabled").addClass("animated tada"):$submitBtn.addClass("td-is-disabled").removeClass("animated tada"),$header.removeClass("td-is-incorrect"),r.removeClass("td-is-incorrect"),r.parent().removeClass("td-is-incorrect")}function s(){r.parent().addClass("td-is-loading"),setTimeout(function(){r.parent().removeClass("td-is-loading"),r.val().toUpperCase()===$inputAnswer.toUpperCase()?($header.removeClass("td-is-incorrect"),$header.addClass("td-is-correct"),$headerOverlay.text("Correct").attr("data-message",""),r.addClass("td-is-correct").attr("disabled",!0),r.parent().addClass("td-is-correct"),$(".td-trivia").hasClass("td-has-did-you-know")?setTimeout(function(){$header.removeClass("td-is-incorrect td-is-correct"),$(".js-triviaBody").addClass("td-is-slid")},2e3):($(".td-trivia-stats .td-trivia-footer").addClass("td-translate-left"),$(".td-trivia-stats .td-trivia-footer__button-container").addClass("animated tada"))):($header.addClass("td-is-incorrect"),$headerOverlay.text("Incorrect").attr("data-message","Sorry that answer is incorrect. Please check your spelling and try again."),r.addClass("td-is-incorrect"),r.parent().addClass("td-is-incorrect"))},1e3)}function e(t,s){$(t).each(function(){$(this).prop("Counter",0).animate({Counter:$(this).data(s)},{duration:1500,easing:"swing",step:function(t){$(this).text(Math.ceil(t))}})})}function a(t){return $(t+" .td-progress-circle__percent").data("value")/100*$strokeDash}function i(t){return $(t+" .td-progress-circle__svg--2 path").attr({"stroke-dashoffset":a(t)})}var r=$(".js-triviaInput");$inputAnswer=r.data("answer"),$submitBtn=$(".js-triviaSubmit"),$header=$(".td-trivia-header"),$headerOverlay=$(".td-trivia-header__result"),$strokeDash=629,$loginModal=$("#see-overlay"),$modalButtons=$("#see-overlay .see-button"),$prompt=$(".js-prompt"),$categories=$(".js-categories"),r.keyup(t),$submitBtn.on("click",function(){$(this).hasClass("td-is-disabled")||s()}),r.keyup(function(t){13==t.keyCode&&r.val().length>0&&s()}),$(".td-animated[data-delay]").each(function(){var t=parseInt(this.getAttribute("data-delay"),10);isNaN(t)||(t+="ms",this.style["-webkit-animation-delay"]=t,this.style["-moz-animation-delay"]=t,this.style["-ms-animation-delay"]=t,this.style["animation-delay"]=t)}),$("body").on("click",".td-trivia-answer",function(){$("body").hasClass("td-is-not-registered")?$prompt.addClass("td-slide-in"):($(this).hasClass("js-is-incorrect")?($(this).addClass("td-is-incorrect"),$header.addClass("td-is-incorrect"),$headerOverlay.text("Incorrect"),$(".td-trivia-answer.js-is-correct").addClass("td-is-correct")):($(this).addClass("td-is-correct"),$header.addClass("td-is-correct"),$headerOverlay.text("Correct")),setTimeout(function(){var t=$(".td-trivia-results");$header.removeClass("td-is-incorrect td-is-correct"),$(".js-triviaBody").addClass("td-is-slid"),$(".td-trivia").hasClass("td-has-did-you-know")?t.hide():(t.show(),e(".js-count","value"),i(".td-progress-circle--positive"),i(".td-progress-circle--negative"))},2e3))}),$(".js-viewStats").on("click",function(){$(this).closest(".td-trivia-slider").addClass("td-is-slid"),$(".td-trivia-results").show(),e(".js-count","value"),i(".td-progress-circle--positive"),i(".td-progress-circle--negative")}),$(".js-goBack").on("click",function(){$(this).closest(".td-trivia-slider").removeClass("td-is-slid"),$(".td-trivia-results").hide(),$(".td-progress-circle__percent").each(function(){$(this).text("")})}),$(".js-logIn").on("click",function(){$loginModal.show()}),$modalButtons.on("click",function(){$loginModal.hide(),$("body").removeClass("td-is-not-registered"),$prompt.removeClass("td-slide-in")}),$(".js-cancelPrompt").on("click",function(){$prompt.removeClass("td-slide-in")}),$(".js-signInBtn").on("click",function(){$loginModal.show()}),$(".js-viewMore").on("click",function(){$(this).hide(),$categories.addClass("is-expanded"),$(".js-categories").perfectScrollbar()})});