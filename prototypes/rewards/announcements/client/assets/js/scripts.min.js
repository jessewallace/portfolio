/*!
 * fireshell
 * Fiercely quick and opinionated front-ends
 * http://getfireshell.com
 * @author Todd Motto
 * @version 1.1.0
 * Copyright 2013. MIT licensed.
 */
!function(a,b,c,d){"use strict";var e={init:function(){a(".registration-widget-overlay-input-date").datepicker(),e.triggerGuestActions()},openModal:function(){a(".registration-widget-overlay").addClass("registration-widget-overlay-open"),a(".container, body").addClass("overlay-open")},closeModal:function(){a(".registration-widget-overlay").removeClass("registration-widget-overlay-open"),a(".container, body").removeClass("overlay-open")},signedIn:function(){a(".registration-widget-menu-not-logged-in").fadeOut(function(){a(".registration-widget-menu-not-logged-in").fadeIn(e.triggerGuestActions)}),e.closeModal()}};a(".registration-widget-overlay-announcement-widget ul li:last-child").addClass("is-ref");var f,g,h,i,j,k,l,m,n;f=a(".registration-widget-overlay-announcement-widget ul"),i=a(".registration-widget-overlay-announcement-widget ul li"),j=i.length,l=a(".registration-widget-overlay-announcement-widget-footer"),h=function(a){return a.prev().length>0?a.prev():i.last()},g=function(a){return a.next().length>0?a.next():i.first()},k=function(){i.removeClass("active"),i.filter(function(){return"2"===a(this).css("order")}).addClass("active")},m=function(){i.filter(function(){return f.is(".is-reversing")?"3"===a(this).css("order"):"1"===a(this).css("order")}).addClass("viewed")},n=function(){var b=i.length,c=a(".viewed").length,d=b-c;a("#announcements").removeData("announcementamount").attr("data-announcementamount",d)},n(),f.swipe({swipeLeft:function(b,c){var d,e,h,j,l;for(d=a(".is-ref").removeClass("is-ref"),j=g(d),f.removeClass("is-reversing"),j.addClass("is-ref").css("order",1),e=h=2,l=i.length;l>=2?l>=h:h>=l;e=l>=2?++h:--h)j=g(j).css("order",e);k(),m();for(var o=0,p=i.closest("ul").next().find("a");o<i.length;o++)if(p.removeClass("active"),i.eq(o).is(".active")){i.closest("ul").next().find("a").eq(o).addClass("active");break}return n(),f.removeClass("is-set"),setTimeout(function(){return f.addClass("is-set")},50)},swipeRight:function(b,c){var d,e,l,o,p;for(d=a(".is-ref").removeClass("is-ref"),o=h(d),f.addClass("is-reversing"),o.addClass("is-ref").css("order",1),e=l=2,p=i.length;p>=2?p>=l:l>=p;e=p>=2?++l:--l)o=g(o).css("order",e);k(),m();for(var q=0,r=i.closest("ul").next().find("a");j>q;q++)if(r.removeClass("active"),i.eq(q).is(".active")){i.closest("ul").next().find("a").eq(q).addClass("active");break}return n(),f.removeClass("is-set"),setTimeout(function(){return f.addClass("is-set")},50)}}),a(".control").on("click",function(b){var c,d,e,l,o;for(c=a(".is-ref").removeClass("is-ref"),"next"===a(b.currentTarget).data("toggle")?(l=g(c),f.removeClass("is-reversing")):(l=h(c),f.addClass("is-reversing")),l.addClass("is-ref").css("order",1),d=e=2,o=i.length;o>=2?o>=e:e>=o;d=o>=2?++e:--e)l=g(l).css("order",d);k(),m();for(var p=0,q=i.closest("ul").next().find("a");j>p;p++)if(q.removeClass("active"),i.eq(p).is(".active")){i.closest("ul").next().find("a").eq(p).addClass("active");break}return n(),f.removeClass("is-set"),setTimeout(function(){return f.addClass("is-set")},50)}),i.each(function(){l.append('<a href=""><i class="fa fa-circle"></i></i></a>')});var o=function(){i.is(".viewed")!==!0&&(a(".registration-widget-overlay-announcement-widget ul li:first-child").addClass("viewed"),l.find("a:first-child").addClass("active"))};a(c).ready(function(){a(".registration-widget-overlay-announcement-widget, .registration-widget-overlay-announcement-widget-header, .registration-widget-overlay-announcement-widget-content").show(),e.openModal(),o()}),a(".announcment-widget-menu-item").click(function(){a(".registration-widget-overlay-announcement-widget, .registration-widget-overlay-announcement-widget-header, .registration-widget-overlay-announcement-widget-content").show(),e.openModal(),o()}),a("#close-registration-overlay").click(function(){e.closeModal(),n()})}(jQuery,window,document);