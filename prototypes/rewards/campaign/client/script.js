function updateProgress(t,e){$progressMeter.css("width",t+"%"),$rewardValue.text(e)}function onYouTubePlayerAPIReady(){player=new YT.Player("player",{height:"260",width:"470",videoId:"SByVWvRGYdo",playerVars:{controls:0},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(t){t.target.playVideo()}function onPlayerStateChange(t){if(0===t.data){var e=$(".js-videoContinue");e.attr("onclick","location.href = './featuredlink.html'"),e.removeClass("td-is-disabled").addClass("td-animate-tada td-animate"),$(".js-videoSkip").hide(),updateProgress($newProgress,$rewardTotal)}}function counter(t,e){$(t).each(function(){$(this).prop("Counter",0).animate({Counter:$(this).data(e)},{duration:1e3,easing:"swing",step:function(t){$(this).text(Math.ceil(t))}})})}var player;$(document).ready(function(){function t(){n.val().length>0?$submitBtn.removeClass("td-is-disabled").addClass("td-animate td-animate-tada"):$submitBtn.addClass("td-is-disabled").removeClass("td-animate td-animate-tada"),$overlay.removeClass("td-is-negative"),n.removeClass("td-is-negative"),n.parent().removeClass("td-is-negative")}function e(){n.parent().addClass("td-is-loading"),$submitBtn.removeClass("td-animate-tada"),setTimeout(function(){n.parent().removeClass("td-is-loading"),n.val().toUpperCase()===$inputAnswer.toUpperCase()?($overlay.removeClass("td-is-negative"),$overlay.addClass("td-is-positive"),$overlayText.text("Correct").attr("data-message",""),n.addClass("td-is-positive").attr("disabled",!0),n.parent().addClass("td-is-positive"),updateProgress($newProgress,$rewardTotal),$submitBtn.attr("onclick","location.href = './"+$submitBtnNext+".html'"),$submitBtn.text("Continue").addClass("td-animate td-animate-tada").removeClass("js-formSubmit"),$(".td-widget-subfooter__link").hide()):($overlay.addClass("td-is-negative"),$overlayText.text("Incorrect").attr("data-message","Sorry that answer is incorrect. Please check your spelling and try again."),n.addClass("td-is-negative"),n.parent().addClass("td-is-negative"))},1e3)}var a=$(".js-navMenu"),s=$(".js-widgetContainer"),n=$(".js-triviaInput");$inputAnswer=n.data("answer"),$submitBtn=$(".js-formSubmit"),$submitBtnNext=$submitBtn.data("next"),$overlay=$(".js-overlay"),$overlayText=$(".td-widget-overlay__header");var i=$(".td-widget-toolbar");$rewardValue=$(".td-widget-progress__amount-current"),$currentAmount=i.data("current"),$rewardAmount=i.data("rewardamount"),$rewardTotal=$rewardAmount+$currentAmount,$totalAmount=i.data("total"),$currentProgress=$currentAmount/$totalAmount*100,$newProgress=($rewardAmount+$currentAmount)/$totalAmount*100,$progressMeter=$(".td-widget-progress__meter"),a.on("click",function(){s.toggleClass("td-is-opened"),i.toggleClass("td-is-opened")}),$progressMeter.css("width",$currentProgress+"%"),$rewardValue.text($currentAmount),$(".js-surveyChoice").on("click",function(){$(this).siblings().removeClass("td-is-selected"),$(this).addClass("td-is-selected"),$submitBtn.addClass("td-animate td-animate-tada").removeClass("td-is-disabled")}),$(".js-surveyInputChoice").on("click",function(){$submitBtn.addClass("td-animate td-animate-tada").removeClass("td-is-disabled")}),n.keyup(t),$submitBtn.on("click",function(){!$(this).hasClass("td-is-disabled")&&$(this).hasClass("js-formSubmit")&&e()}),n.keyup(function(t){13==t.keyCode&&n.val().length>0&&e()}),$(".js-email, .js-leadButton").on("click",function(){$(this).closest(".td-widget-slider__container").addClass("td-is-slid")}),$(".js-sendEmail").on("click",function(){updateProgress($newProgress,$rewardTotal),$(this).addClass("td-button--positive").text("Coupon Sent"),$(".js-emailContinue").text("Continue").addClass("td-animate-tada td-animate td-button td-button--small td-button--secondary").removeClass("td-widget-link")}),$("body").on("click",".js-submitForm",function(){updateProgress($newProgress,$rewardTotal);var t=$(this).data("next");$(this).attr("onclick","location.href = './"+t+".html'"),$(this).text("Continue").addClass("td-animate td-animate-tada"),$(".td-widget-subfooter__link").hide()}),$("body").on("click",".js-buttonAction",function(){updateProgress($newProgress,$rewardTotal),$(this).attr("onclick","location.href = './completion.html'"),$(this).text("Continue").addClass("td-animate td-animate-tada"),$(".js-skipLink").hide()});var d=0;$(".js-completion").each(function(t){d+=parseInt($(this).data("total"),10)}),$(".js-completionTotal").text(d);var o=($(".js-completionItem"),$(".js-completionItem").length),r=$(".js-completionItem.td-is-completed").length,l=1500,u=1500,m=o*u+l,c=0;setTimeout(function(){$(".js-completionItem").each(function(){var t=$(this).find(".js-completion");$(this).delay(c).queue(function(){$(this).addClass("td-animate td-animate-fadeInLeft"),setTimeout(function(){counter(t,"total")},500)}),c+=u})},l),setTimeout(function(){$(".js-completionItemFinal").addClass("td-animate td-animate-bounceIn"),r==o&&$(".td-widget-stamp").addClass("td-animate td-animate-stamp td-is-stamped")},m)});